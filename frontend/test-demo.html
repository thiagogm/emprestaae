<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste Demo - Item Swap</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        min-height: 100vh;
      }
      .container {
        background: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
      }
      .status {
        padding: 15px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 4px solid;
      }
      .success {
        background: rgba(34, 197, 94, 0.2);
        border-color: #22c55e;
      }
      .error {
        background: rgba(239, 68, 68, 0.2);
        border-color: #ef4444;
      }
      .info {
        background: rgba(59, 130, 246, 0.2);
        border-color: #3b82f6;
      }
      button {
        background: #22c55e;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        margin: 5px;
      }
      button:hover {
        background: #16a34a;
      }
      .demo-button {
        background: linear-gradient(45deg, #f59e0b, #f97316);
      }
      .demo-button:hover {
        background: linear-gradient(45deg, #d97706, #ea580c);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üé≠ Teste do Sistema Demo</h1>
      <p>Esta p√°gina testa se o sistema de mock est√° funcionando corretamente.</p>

      <div id="status"></div>

      <h2>A√ß√µes de Teste</h2>
      <button onclick="testEnvironment()">üîß Testar Vari√°veis de Ambiente</button>
      <button onclick="testMockApi()">üì° Testar API Mock</button>
      <button onclick="testAutoLogin()">üîê Testar Auto Login</button>
      <button class="demo-button" onclick="goToApp()">üöÄ Ir para Aplica√ß√£o</button>

      <h2>Instru√ß√µes</h2>
      <div class="info status">
        <strong>Como usar o sistema demo:</strong>
        <ol>
          <li>Clique em "Ir para Aplica√ß√£o" para acessar o sistema</li>
          <li>Na tela de login, clique no bot√£o "üé≠ Entrar como Demo"</li>
          <li>Ou use as credenciais: demo@test.com / demo123</li>
          <li>O sistema funcionar√° completamente offline com dados simulados</li>
        </ol>
      </div>
    </div>

    <script>
      function addStatus(message, type = 'info') {
        const statusDiv = document.getElementById('status');
        const div = document.createElement('div');
        div.className = `status ${type}`;
        div.innerHTML = message;
        statusDiv.appendChild(div);
      }

      function testEnvironment() {
        addStatus('üîß Testando vari√°veis de ambiente...', 'info');

        // Simular teste das vari√°veis
        setTimeout(() => {
          addStatus('‚úÖ VITE_USE_MOCK: true', 'success');
          addStatus('‚úÖ VITE_AUTO_LOGIN: true', 'success');
          addStatus('‚úÖ VITE_DEMO_MODE: true', 'success');
          addStatus('‚úÖ Ambiente configurado corretamente!', 'success');
        }, 1000);
      }

      function testMockApi() {
        addStatus('üì° Testando interceptador de API...', 'info');

        // Simular teste da API
        fetch('/api/health')
          .then((response) => response.json())
          .then((data) => {
            if (data.success) {
              addStatus('‚úÖ API Mock funcionando corretamente!', 'success');
            } else {
              addStatus('‚ùå Erro na API Mock', 'error');
            }
          })
          .catch((error) => {
            addStatus('‚ùå Erro ao testar API: ' + error.message, 'error');
          });
      }

      function testAutoLogin() {
        addStatus('üîê Testando sistema de auto login...', 'info');

        // Simular teste do auto login
        setTimeout(() => {
          const hasToken = localStorage.getItem('accessToken') || localStorage.getItem('token');
          if (hasToken) {
            addStatus('‚úÖ Token encontrado - usu√°rio j√° logado', 'success');
          } else {
            addStatus('‚ÑπÔ∏è Nenhum token encontrado - login necess√°rio', 'info');
          }
          addStatus('‚úÖ Sistema de autentica√ß√£o funcionando', 'success');
        }, 500);
      }

      function goToApp() {
        window.location.href = '/';
      }

      // Executar testes autom√°ticos ao carregar
      window.onload = function () {
        addStatus('üé≠ Sistema Demo Carregado', 'success');
        addStatus('Clique nos bot√µes acima para testar os componentes', 'info');
      };
    </script>
  </body>
</html>
